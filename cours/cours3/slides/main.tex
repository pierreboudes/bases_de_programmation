\documentclass[xcolor=svgnames]{beamer}
\input{communs/slides_style}

%%% Titre -- Cours 3
\title{Éléments d'informatique -- Cours 3 \\La programmation
  structurée en langage C\\ L'instruction de contrôle \C{if}}
\author{Pierre Boudes}
\date{\today}

\begin{document}

%% Page de titre et licence CC.
\begin{frame}
	\titlepage
	\vfill
	\begin{center}
		\CcGroupByNcSa{0.83}{0.95ex}\\[2.5ex]
		{\tiny\CcNote{\CcLongnameByNcSa}}
		\vspace*{-2.5ex}
	\end{center}
\end{frame}

%%%%%%%%%%%%%%%%%%%%
 \section*{Contenu du cours}
\begin{frame}
%  \frametitle{Contenu du cours (rappel)}
  \begin{itemize}
  \item Éléments d'architecture des ordinateurs (+mini-assembleur)\nowrite
  \item Éléments de systèmes d'exploitation
\item \alert{Programmation structurée impérative (éléments de langage C)}
\begin{itemize}
  \item \alert{Structure d'un programme C}
  \item \alert{Variables : déclaration (et initialisation), affectaction}
  \item \alert{Évaluation d'expressions}
  \item Instructions de contrôle : \alert{if}, for, while
  \item Types de données : entiers, caractères,
    réels, tableaux, enregistrements
  \item Fonctions d'entrées/sorties (scanf/printf)
  \item Écriture et appel de fonctions
  \item Débogage
\end{itemize}
\item Notions de compilation
  \begin{itemize}
  \item Analyse lexicale, analyse syntaxique, analyse sémantique
  \item préprocesseur du compilateur C (include, define)
   \item Édition de lien
  \end{itemize}
\item Algorithmes élémentaires
\item Méthodologie de résolution, manipulation sous linux
\end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Liens utiles\nowrite}

  \begin{itemize} 
\item ma page : \url{http://www-lipn.univ-paris13.fr/~boudes/}
\item Un livre de la BU: \emph{Le livre du C, premier langage (pour les
  vrais débutants en programmation)}, Claude Delannoy.
\item \url{http://www.siteduzero.com/} (chercher langage C)
\item \url{http://www.developpez.com/} (chercher langage C)
\item le cours de Anne Canteaut :\\ {\small\url{http://www-roc.inria.fr/secret/Anne.Canteaut/COURS_C/}}
\item le cours de Bernard Cassagne :\\ {\small\url{http://clips.imag.fr/commun/bernard.cassagne/Introduction_ANSI_C.html}}
\item le cours de Henri Garreta  : \\
{\small\url{http://www.dil.univ-mrs.fr/~garreta/generique/}}
\item codeblocks : \url{http://www.codeblocks.org/}
\item ubuntu : \url{http://www.ubuntu-fr.org/}
\item virtualbox : \url{http://www.virtualbox.org/}
  \end{itemize} 
\end{frame}



\section[Plan]{}
\frame[label=plan]{\tableofcontents%[pausesections]
}
%%%%%%%%%%%%%%%%%%%%%
\section{La programmation structurée}

\begin{frame}
  \frametitle{La programmation structurée}
  
  \begin{definition}[Programmation structurée]
    Programmer par \structure{blocs} d'instructions en combinant ces blocs de trois manières :\pause
    \begin{enumerate}
    \item exécuter les blocs les uns à la suite des autres (\structure{séquence})\pause
    \item si une certaine condition est vraie, exécuter un bloc sinon
      en exécuter un autre (\structure{sélection})\pause
    \item recommencer l'exécution d'un bloc tant qu'une certaine
      condition est vraie (\structure{répétition}).\pause
    \end{enumerate}
    Un bloc peut lui-même contenir une combinaison de blocs.
  \end{definition}
\pause
Cette idée simple conduisit à l'introduction de langages dits de haut niveau tel le
langage C. 

\pause
Ces langages nécessitent une \alert{traduction en langage machine}, par un compilateur
ou bien un interprète. 

\pause
Aujourd'hui nous allons voir la sélection en langage C,  le \alert{\C{if else}}.
\end{frame}
\section{Programmation en C}
\subsection{Structure d'un programme C}
\begin{frame}[fragile]
  \frametitle{Structure d'un programme C\nowrite}
\structure{Code source}
\begin{lstlisting}[basicstyle=\ttfamily\scriptsize] 
/* Declaration de fonctionnalites supplementaires */
#include <stdlib.h> /* EXIT_SUCCESS */

/* Declaration des constantes et types utilisateurs */

/* Declaration des fonctions utilisateurs */

/* Fonction principale */
int main()
{
    /* Declaration et initialisation des variables */
    ...
    /* valeur fonction */
    return EXIT_SUCCESS;
}

/* Definitions des fonctions utilisateurs */
\end{lstlisting}

Les commentaires sont ignorés lors de la traduction en langage machine.
\end{frame}

\subsection{Variables impératives et traduction de l'affectation}
\begin{frame}[fragile]
  \frametitle{Traduction de l'affectation (rappel du TD 2)}
  \begin{columns}
 \begin{column}[t]{2.5cm}
\structure{Code source}
\begin{lstlisting}[basicstyle=\ttfamily\scriptsize] 
...
/* Fonction principale */
int main()
{
    /* Declaration et initialisation des variables */
    int x = 5;
 

   
    x = 3 * x + 1;
    ...
\end{lstlisting}
\end{column}
\pause
\begin{column}[t]{6.5cm}
\hfill\structure{Schéma de traduction}\\[.3cm]
\tikzstyle{amil}=[rectangle, draw,  fill=blue!20, text badly ragged,
text width=5.4cm]
\tikzstyle{line} = [draw, thick, -latex']
\begin{tikzpicture}[node distance=1.5cm]
\useasboundingbox (-4,-2) rectangle (3,1.5);
\uncover<2-2> {%
\node [amil,cloud, cloud ignores aspect, cloud puffs = 15, fill=green!20] (avant) {Les déclarations ne sont pas traduites en
    instructions, mais en réservations mémoires};
}
\uncover<3-> {%
\node [amil,fill=green!20] (avant) {\emph{$x$ est une case mémoire de
    type entier qui contient initialement 5}};
\draw [draw, thick, green] (-7.1,-0.5) rectangle (-5.2, -0.1) --
(-5.2,-0.3); \draw [ thick, green, ->] (-5.2,-0.3)  -> (avant);
}
\uncover<4-4>{%
  \node [amil,cloud, cloud ignores aspect, cloud puffs = 15, below of=avant,node distance=2cm] (eval) {l'affectation est traduite par
    l'évaluation d'une expression et  une écriture en mémoire};
}
\uncover<5->{%
  \node [amil,below of=avant] (eval) {\emph{évaluation de l'expression
    $3 x + 1$ dans un registre}};
\draw [draw, thick, blue] (-6.4,-1.84) rectangle (-4.7, -1.44) --
(-4.7,-1.64) ; \draw[ thick, blue, ->] (-4.7,-1.64)  -- (eval.west);
}
\uncover<6->{%
  \node [amil,below of=eval,node distance=1.1cm] (eval) {\emph{écriture du résultat à l'adresse
  de $x$}};
\draw [draw, thick, blue] (-7.1,-1.84) rectangle (-6.5, -1.44);
\draw  [thick, blue, ->]   (-6.8,-1.84) -- (eval.west);
}
\end{tikzpicture}
\end{column}
\end{columns}
\end{frame}


\subsection{L'instruction de contrôle if}
\begin{frame}[fragile]
  \frametitle{L'instruction de contrôle if}

\structure{Syntaxe :} \C{if (\emph{condition}) \{\emph{\colorbox{green!20}{bloc1}}\} else 
\{\emph{\colorbox{red!20}{bloc2}}\}}.
\medskip

\pause
  \begin{columns}
    \begin{column}[t]{5cm}
\structure{Code source}
\begin{verbatim}
/* avant */
if (age < 18)
{
  permis = 0;
}
else
{
  permis = 1;
}
/* après */
\end{verbatim}
   \end{column}
\pause
   \begin{column}[t]{4cm}
\structure{Schéma de traduction}\\[.3cm]
\tikzstyle{amil}=[rectangle, draw,  fill=blue!20, text badly ragged, text width=3.7cm]

\tikzstyle{line} = [draw, thick, -latex']
\begin{tikzpicture}[node distance=.7cm]
  \node [amil] (avant) {\emph{avant}};
  \node [amil,below of=avant] (eval) {évalue la condition};
  \node [amil,below of =eval,fill=orange!20] (selection) {saute si elle est fausse};
  \uncover<4->{%
    \node [amil,below of =selection,fill=green!20] (bloc1) {bloc1};
    \node [amil,below of =bloc1,fill=orange!20] (saut1) {saut};
  }
  \node [amil,below of =saut1,fill=red!20](bloc2) {bloc2};
  \node [amil,below of =bloc2] (apres) {\emph{après}};
  \path [line] (selection) -| ++(2.6,0) |-  (bloc2);
\uncover<4->{\path [line] (saut1) -| ++(2.4,0) |-  (apres);}
\end{tikzpicture}
\end{column}
\end{columns}
\end{frame}

\section{Démos}
\begin{frame}
  \frametitle{Démos}
\end{frame}


\section{Divers}
\begin{frame}
  \frametitle{Divers\nowrite}
  \begin{itemize}
  \item À partir de cette semaine, il faudra préparer le TP à
    l'avance, et penser à prendre des notes manuscrites pendant la
    séance de TP.\pause

   \item Il y a une méthodologie de résolution qu'il faudra appliquer
     (faire des exemples, écrire un algorithme, traduire en langage C,
     tester).  Le contrôle de TP aura sans doute lieu dans deux semaines.\pause

    \item Pour vous entraîner à programmer en langage C sur un
      ordinateur personnel, il y a par exemple la solution
      \texttt{codeblocks}. \pause

\item Alternative plus difficile: virtual box et une ubuntu.
  \end{itemize}
\end{frame}

\end{document}
